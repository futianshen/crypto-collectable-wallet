(this["webpackJsonpcrypto-collectable-wallet"]=this["webpackJsonpcrypto-collectable-wallet"]||[]).push([[0],{280:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(23),i=c.n(a),s=c(138),o=c(290),d=c(46),j=c(18),l=c(49),b=c(288),u=c(287),O=c(289),m=c(285),h=c(103),x=c(93),p=c.n(x),f=c(293),v=function(e){throw new Error(e)},g=c(20),N=Object(g.a)(Object(g.b)({id:Object(g.c)().required(),token_id:Object(g.c)().required(),image_url:Object(g.c)().required(),name:Object(g.c)().required(),asset_contract:Object(g.b)({address:Object(g.c)().required()}).nullable()})).required(),k=Object(g.b)({id:Object(g.c)().required(),name:Object(g.c)().required(),description:Object(g.c)().nullable(),image_url:Object(g.c)().required(),collection:Object(g.b)({name:Object(g.c)().required()}),permalink:Object(g.c)().required()}).required(),q=function(e){var t=e.pageParam,c=void 0===t?0:t;return p.a.get("https://api.opensea.io/api/v1/assets?format=json&owner=0x960DE9907A2e2f5363646d48D7FB675Cd2892e91&limit=20&offset=".concat(c)).then((function(e){return N.validate(e.data.assets)})).then((function(e){return N.cast(e)||[]})).then((function(e){return e.map((function(e){var t;return{id:e.id||"",imageUrl:e.image_url||"",name:e.name||"",assetContractAddress:(null===(t=e.asset_contract)||void 0===t?void 0:t.address)||null,tokenId:e.token_id||""}}))})).catch(v)},_=c(294),w=c(6),P=function(e){var t=e.prevPath,c=e.name,n=e.children;return Object(w.jsxs)("main",{children:[Object(w.jsxs)("header",{className:"mb-3 p-3",children:[Object(w.jsx)(d.b,{to:t,className:"inline-flex items-center mr-2",children:Object(w.jsx)(_.a,{})}),Object(w.jsx)("span",{children:c})]}),Object(w.jsx)("section",{className:"container mx-auto px-6",children:n})]})},E=function(){var e=Object(j.f)().id,t=e.split("_"),c=Object(l.a)(t,2),n=c[0],r=c[1],a=Object(m.a)("asset_".concat(e),(function(){return e={contractAddress:n,tokenId:r},p.a.get("https://api.opensea.io/api/v1/asset/".concat(e.contractAddress,"/").concat(e.tokenId)).then((function(e){return k.validate(e.data)})).then((function(e){return k.cast(e)||{}})).then((function(e){return Object(h.a)(Object(h.a)({},Object(f.a)(["id","name","description","permalink"],e)),{},{imgUrl:e.image_url||"",collectionName:e.collection.name||""})})).catch(v);var e})),i=a.isLoading,s=a.isError,o=a.data,d=null;return!i&&o||(d=Object(w.jsx)(b.a,{active:!0})),s&&(d=Object(w.jsx)("span",{children:"error"})),o&&(d=Object(w.jsxs)(u.a,{cover:Object(w.jsx)("img",{alt:o.id,src:o.imgUrl,className:"w-screen"},o.id),bordered:!1,children:[Object(w.jsx)(u.a.Meta,{title:o.name,description:o.description}),Object(w.jsx)("a",{href:o.permalink,target:"_blank",rel:"noreferrer",children:Object(w.jsx)(O.a,{className:"mt-4",block:!0,children:"Link"})})]})),Object(w.jsx)(P,{prevPath:"/",name:(null===o||void 0===o?void 0:o.collectionName)||"",children:d})},I=c(286),A=c(291),y=c(292),U=function(e){var t=e.children;return Object(w.jsx)("main",{children:Object(w.jsx)("section",{className:"container mx-auto px-6 py-8",children:t})})},C=function(){var e=Object(y.a)("assets",q,{getNextPageParam:function(e,t){return 20===e.length?Object(A.a)(t).length+1:void 0}}),t=e.isLoading,c=e.isError,r=e.data,a=e.fetchNextPage,i=e.isFetchingNextPage,s=e.hasNextPage,o=null;!t&&r||(o=Object(w.jsx)(b.a,{active:!0})),c&&(o=Object(w.jsx)("span",{children:"error"}));var j=Object(n.useRef)(null);return Object(n.useEffect)((function(){if(s){var e=j.current;if(e){var t=new IntersectionObserver((function(e){return e.forEach((function(e){return e.isIntersecting&&a()}))}));return t.observe(e),function(){return t.unobserve(e)}}}}),[s,j.current]),r&&(o=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mb-12",children:Object(A.a)(r.pages).map((function(e){return Object(w.jsx)(d.b,{to:"/asset/".concat(e.assetContractAddress,"_").concat(e.tokenId),children:Object(w.jsx)(u.a,{cover:Object(w.jsx)("img",{src:e.imageUrl}),children:Object(w.jsx)("h3",{className:"text-center",children:e.name})})},e.id)}))}),Object(w.jsx)("div",{ref:j,className:"text-center",children:i&&Object(w.jsx)(I.a,{})})]})),Object(w.jsx)(U,{children:o})},F=function(){var e=[{path:"/",exact:!0,component:Object(w.jsx)(C,{})},{path:"/asset/:id",exact:!1,component:Object(w.jsx)(E,{})}];return Object(w.jsx)(d.a,{children:Object(w.jsx)(j.c,{children:e.map((function(e){var t=e.path,c=e.exact,n=e.component;return Object(w.jsx)(j.a,{path:t,exact:c,children:n},t)}))})})},L=function(){return Object(w.jsx)(s.a,{client:new o.a,children:Object(w.jsx)(F,{})})};i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(L,{})}),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.edc2be1c.chunk.js.map